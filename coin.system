<!DOCTYPE html>
<html>
<head>
    <title>Ask-Question Coin System</title>
    <style>
        body {
            font-family: Arial;
            background: #f1f1f1;
            text-align: center;
            padding: 40px;
        }

        #coinBox {
            font-size: 38px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .coinButton, .askBtn {
            background: gold;
            padding: 20px 40px;
            font-size: 22px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.1s;
            margin-bottom: 20px;
        }

        .coinButton:active, .askBtn:active {
            transform: scale(0.9);
        }

        #resetBtn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
        }

        /* Floating coin animation */
        .floatCoin {
            position: absolute;
            color: gold;
            font-size: 24px;
            animation: floatUp 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-70px); }
        }

        /* Progress bar */
        #progressContainer {
            width: 60%;
            margin: 25px auto;
            background: #ddd;
            border-radius: 20px;
            overflow: hidden;
            height: 25px;
        }

        #progressBar {
            height: 100%;
            background: gold;
            width: 0%;
            transition: width 0.4s;
        }

        /* Question box */
        #questionBox {
            width: 60%;
            padding: 15px;
            font-size: 16px;
            border-radius: 10px;
            border: 1px solid #aaa;
            margin-bottom: 15px;
        }

        #message {
            font-size: 18px;
            color: red;
            margin-top: 10px;
            height: 25px;
        }
    </style>
</head>
<body>

    <h1>Ask a Question System (Coin-Based)</h1>

    <div id="coinBox">Coins: 0</div>

    <!-- Progress bar -->
    <div id="progressContainer">
        <div id="progressBar"></div>
    </div>

    <!-- Earn coins -->
    <button class="coinButton" onclick="earnCoins(event)">ðŸ’° Earn 10 Coins</button>

    <br><br>

    <!-- Ask Question -->
    <textarea id="questionBox" rows="3" placeholder="Type your question here..."></textarea>
    <br>
    <button class="askBtn" onclick="askQuestion()">Ask Question (Costs 5 Coins)</button>

    <div id="message"></div>

    <br>
    <button id="resetBtn" onclick="resetCoins()">Reset Coins</button>

    <script>
        let coins = localStorage.getItem("coins");
        if (!coins) coins = 0;
        else coins = parseInt(coins);

        function updateDisplay() {
            document.getElementById("coinBox").innerText = "Coins: " + coins;

            // progress bar fills up to max 100
            let progress = Math.min(coins, 100);
            document.getElementById("progressBar").style.width = progress + "%";
        }

        function earnCoins(event) {
            coins += 10;
            localStorage.setItem("coins", coins);
            updateDisplay();

            spawnFloatingCoin(event.clientX, event.clientY);
        }

        function askQuestion() {
            let question = document.getElementById("questionBox").value;

            if (question.trim() === "") {
                document.getElementById("message").innerText = "Please enter a question.";
                return;
            }

            if (coins < 5) {
                document.getElementById("message").innerText = "Not enough coins! Earn more first.";
                return;
            }

            // subtract coins
            coins -= 5;
            localStorage.setItem("coins", coins);
            updateDisplay();

            // clear message + question
            document.getElementById("message").innerText = "Question sent!";
            document.getElementById("questionBox").value = "";
        }

        function resetCoins() {
            coins = 0;
            localStorage.setItem("coins", coins);
            updateDisplay();
        }

        function spawnFloatingCoin(x, y) {
            let coin = document.createElement("div");
            coin.classList.add("floatCoin");
            coin.innerText = "+10";

            coin.style.left = (x - 10) + "px";
            coin.style.top = (y - 20) + "px";

            document.body.appendChild(coin);

            setTimeout(() => coin.remove(), 1000);
        }

        updateDisplay();
    </script>

</body>
</html>